%content-padding {
  padding: 6px 9px;
}

.accordion {

  margin-top: 10px;
  background: transparent;

  // used if the same margin as in is-dark is desired
  // TODO: should be removed, wrong place
//  &--margin {
//    margin: 12px;
//
//    @include media-query(desktop) {
//      margin: 25px;
//    }
//  }

  &__head {
    @extend %content-padding;
    @extend .non-selectable;
    padding-bottom: 5px;
    border-bottom: 1px solid #cccccc;
    position: relative;
    background-color: transparent;
    transition: background-color 400ms ease, font-weight 300ms;

    &:hover {
      cursor: pointer;
      background-color: transparent;

      @include media-query(desktop) {
        background-color: #cccccc;
      }
    }

    // arrow, is displayed as default
    &:after {
      font-family: FontAwesome;
      content: "\f105";
      line-height: 24px;
      font-size: 24px;
      font-weight: normal;
      transform: rotate(0deg);
      transition: transform 300ms;
      float: right; // we use floats as default
    }

    &.arrow-box:before {
      position: absolute;
      right: 2px;
      width: 26px;
      height: 24px;
      background-color: #E2E2E2;
      content: " ";
      display: block;
    }

    // element to place content on head's right-hand side
    .right {
      line-height: 22px;
      position: absolute;
      display: inline-block;
      right: 32px;
    }

    // hide the arrow
    &.no-arrow {
      &:after {
        display: none;
      }
      .right {
        right: 0;
      }
    }

    .box {
      padding: 1px 15px;
      display: inline-block;
      font-size: .9em;
      font-weight: normal; // should no be bold in an active accordion head
    }

    .choosebutton {padding: 1px 15px;} // adjust choosebuttons
  }

  &__body {
    overflow: hidden;
    height: auto !important;
    max-height: 0;
    background-color: #f2f2f2;
    //    transition: max-height 300ms cubic-bezier(0.17, 0.04, 0.03, 0.94);
    transition: max-height .5s cubic-bezier(0, 1, 0, 1) -.1s;
  }

  // only used for the padding
  &__content {
    @extend %content-padding;
  }


  // sate open
  &--open {
    & > .accordion__head {
      background-color: #cccccc;
      font-weight: bold;

      &:after {
        transform: rotate(90deg);
      }
    }

    & > .accordion__body {
      max-height: 9999px !important;
      transition-timing-function: cubic-bezier(0.5, 0, 1, 0);
      transition-delay: 0s;
    }
  }

  // if this accordion is in another accordion
  &--wrapped {
    margin: 0;

    .accordion__head {
//      margin-left: 14px; // + 5px cause it is nested
      border-bottom: 1px solid #FFF!important; // has to overwrite nested color definition
      background-color: transparent!important; // has to overwrite hover state as well
    }
  }

  // cannot be closed, no arrows, should be used with --open
  &--fixed {
    .accordion__head {

      &:hover {
        cursor: default;
      }

      &:after {
        visibility: hidden;
      }
    }
  }

}

@each $color-scheme in $color-schemes {
  $scheme: nth($color-scheme, 1);
  $name: nth($color-scheme, 2);
  $color: nth($color-scheme, 3);

  .chayns-color--#{$scheme} {

    .accordion__head {
      border-color: mix($color, white, 20%);


      &:hover,
      &.arrow-box:before,
      .box {
        background-color: mix($color, white, 20%);
      }
    }

    .accordion--open {
      .accordion__head {
        background-color: mix($color, white, 20%);
      }
    }

  }
}

